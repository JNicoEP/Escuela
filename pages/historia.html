<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Historia - Escuela Mariano Ariza</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
</head>

<body>

    <div id="navbar-container"></div>
    <div id="modal-container"></div>

    <main class="container my-5">

        <section class="mb-5">
            <h2 class="text-center mb-4">Nuestra Historia</h2>
            <div class="card card-body">
                <p>
                    La institución educativa “Escuela Mariano Ariza” es un establecimiento educativo
                    rural de gestión pública ubicado en el Departamento de Monteros de la Provincia de Tucumán. Brinda
                    servicios educativos de estión estatal en la modalidad de educación común en los niveles inicial de
                    jardín de infantes y primario. </p>
                <p>
                    El nivel inicial brinda servicio educativo a la población infantil comprendida
                    entre los 45 días de vida y
                    los 5 años de edad, promoviendo ámbitos propicios para cubrir las necesidades
                    afectivas, educativas y de
                    contención social de los niños de Capitán Cáceres. La institución brinda
                    servicios educativos
                    de jardín de infantes, iniciando en sala de 3 años hasta los 5 años de edad
                    inclusive.
                </p>
                <p>
                    La institución brinda servicios educativos en el nivel primario, que tiene por
                    objeto la adquisición
                    de competencias básicas, conocimientos, habilidades y valores comunes. Para la
                    modalidad común constituye
                    una unidad pedagógica obligatoria a partir de los 6 años de edad y tiene una
                    duración típica de 7 años.
                </p>
            </div>
        </section>

        <section class="mb-5">
            <h2 class="text-center mb-4">Volvamos al Pasado</h2>

            <div class="expanding-gallery-container">

                <div class="panel active" style="background-image: url('/css/img/historia_page-0001.jpg')">
                    <h3>Foto Histórica 1</h3>
                </div>

                <div class="panel" style="background-image: url('/css/img/historia2_page-0001.jpg')">
                    <h3>Foto Histórica 2</h3>
                </div>

                <div class="panel" style="background-image: url('/css/img/historia3_page-0001.jpg')">
                    <h3>Foto Histórica 3</h3>
                </div>

                <div class="panel" style="background-image: url('/css/img/historia4_page-0001.jpg')">
                    <h3>Foto Histórica 4</h3>
                </div>

                <div class="panel" style="background-image: url('/css/img/historia5_page-0001.jpg')">
                    <h3>Foto Histórica 5</h3>
                </div>

            </div>
        </section>

        <section>
            <h2 class="text-center mb-4">Ubicación</h2>
            <div class="card p-3">
                <div class="ratio ratio-16x9">
                    <iframe
                        src="https://www.google.com/maps/embed?pb=!4v1763044543022!6m8!1m7!1skdJwyV6Hn08yMqjWjYejGw!2m2!1d-27.19016551637246!2d-65.60549077164205!3f260.0065150338608!4f-0.5749565889676092!5f0.7820865974627469"
                        width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy"
                        referrerpolicy="no-referrer-when-downgrade"></iframe>
                </div>
            </div>
        </section>

    </main>
    <div class="modal fade" id="galleryModal" tabindex="-1" aria-labelledby="galleryModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-lg">
            <div class="modal-content" style="background: none; border: none;">
                <div class="modal-body text-center"
                    style="background: rgba(255, 255, 255, 0.8); backdrop-filter: blur(10px); border-radius: 16px; border: 1px solid rgba(255, 255, 255, 0.2); box-shadow: 0 8px 20px rgba(0, 0, 0, 0.05);">
                    <h5 class="modal-title text-dark mb-3" id="galleryModalLabel">Foto Histórica</h5>
                    <img src="" class="img-fluid" id="modalImage" alt="Foto histórica en grande"
                        style="border-radius: 12px;">
                    <button type="button" class="btn btn-primary mt-3" data-bs-dismiss="modal">Cerrar</button>
                </div>
            </div>
        </div>
    </div>
    <div id="footer-container"></div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script type="module" src="/src/js/main.js"></script>

    <script>
        // 1. Seleccionar todos los elementos
        const panels = document.querySelectorAll('.panel');
        const galleryModal = new bootstrap.Modal(document.getElementById('galleryModal'));
        const modalImage = document.getElementById('modalImage');
        const modalTitle = document.getElementById('galleryModalLabel');
        // Lógica para hacer zoom en la imagen del modal
        modalImage.addEventListener('click', () => {
            // Simplemente añade o quita la clase "zoomed"
            modalImage.classList.toggle('zoomed');
        });
        let currentIndex = 0;
        let autoAdvanceTimer;

        // 2. Función para quitar 'active' de todos
        function removeAllActiveClasses() {
            panels.forEach(panel => {
                panel.classList.remove('active');
            });
        }

        // 3. Función para avanzar automáticamente
        function autoAdvance() {
            removeAllActiveClasses();
            currentIndex = (currentIndex + 1) % panels.length;
            panels[currentIndex].classList.add('active');
        }

        // 4. Iniciar el temporizador (1000ms = 1 segundo)
        autoAdvanceTimer = setInterval(autoAdvance, 3000);

        // 5. Lógica para cada panel (Hover, Leave, Click)
        panels.forEach((panel, index) => {

            // A. AL PASAR EL MOUSE (HOVER)
            panel.addEventListener('mouseenter', () => {
                clearInterval(autoAdvanceTimer); // Pausa el automático
                removeAllActiveClasses();
                panel.classList.add('active'); // Activa este panel
            });

            // B. AL QUITAR EL MOUSE
            panel.addEventListener('mouseleave', () => {
                currentIndex = index; // Sincroniza el índice
                autoAdvanceTimer = setInterval(autoAdvance, 3000); // Reinicia el automático
            });

            // C. AL HACER CLIC
            panel.addEventListener('click', () => {
                // Obtener datos del panel
                const style = panel.style.backgroundImage;
                const imageUrl = style.slice(5, -2); // Extrae la URL
                const titleText = panel.querySelector('h3').textContent;

                // Poner datos en el modal
                modalImage.src = imageUrl;
                modalTitle.textContent = titleText;

                // Mostrar el modal
                galleryModal.show();
            });
        });
    </script>

</body>

</html>